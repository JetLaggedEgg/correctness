/* Correctness by github.com/jetlaggedegg - new the correctness object and feed it's init() an object with settings. Read my github repos for more info. */
var correctness=function(){var t=this;this.settings;this.settings={formBody:".form-wrapper",formInputs:".correctme",formSubmit:".correctme-submit",onValid:function(t){t.css("border","initial")},onInvalid:function(t){t.css("border","1px solid #FF0000")}},this.rules=[["-l",/[a-zA-Z]/,!0],["-n",/[0-9]/,!0],["-s",/[ ]/,!0],["-e",/[^a-zA-Z0-9 \'-]/,!0],["email",/.+@.+\..+/i,!1]],this.init=function(i){i&&t["import"](i),t.map.get(),t.assign()},this["import"]=function(i){for(var s in i)t.settings[s]&&(t.settings[s]=i[s])},this.assign=function(){$(t.settings.formBody).find(t.settings.formInputs).change(function(){switch($(this).attr("type")){case"text":t.validate.str($(this).val(),$(this).data("rule"))?(t.map.set($(this).attr("name"),!0),t.settings.onValid($(this))):(t.map.set($(this).attr("name"),!1),t.settings.onInvalid($(this))),t.map.check();break;case"number":t.validate.num($(this).val(),$(this).attr("data-maxNum"),$(this).attr("data-minNum"))?(t.map.set($(this).attr("name"),!0),t.settings.onValid($(this))):(t.map.set($(this).attr("name"),!1),t.settings.onInvalid($(this))),t.map.check();break;case"email":t.validate.email($(this).val())?(t.map.set($(this).attr("name"),!0),t.settings.onValid($(this))):(t.map.set($(this).attr("name"),!1),t.settings.onInvalid($(this))),t.map.check();break;default:console.warn("Input type not recognised:"+$(this).attr("name")+"s type of '"+$(this).attr("type")+"'")}})},this.map={cache:[],get:function(){$(t.settings.formInputs).each(function(){t.map.cache.push([$(this).attr("name"),!0])})},check:function(){for(var i=$(t.settings.formBody).find(t.settings.formSubmit),s=0;s<t.map.cache.length;s++)if(0==t.map.cache[s][1])return t.settings.invalidSubmit?i.addClass(t.settings.invalidSubmit):(i.css("opacity","0.4"),i.css("pointer-events","none")),!1;return t.settings.invalidSubmit?i.removeClass(t.settings.invalidSubmit):(i.css("opacity","1"),i.css("pointer-events","auto")),!0},set:function(i,s){for(var e=0;e<t.map.cache.length;e++)if(t.map.cache[e][0]==i)return t.map.cache[e][1]=s,!0;return!1}},this.validate={num:function(t,i,s){return t?(!i||+i>=+t)&&(!s||+t>=+s)?!0:!1:!0},str:function(i,s){if(i){for(var e=0;e<t.rules.length;e++)if(s.indexOf(t.rules[e][0])>=0){var n=t.rules[e][1];if(n.test(i)==t.rules[e][2])return!1}return!0}return!0},email:function(t){var i=/.+@.+\..+/i;return t?i.test(t)?!0:!1:!0}}};
